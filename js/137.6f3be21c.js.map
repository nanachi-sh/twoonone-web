{"version":3,"file":"js/137.6f3be21c.js","mappings":"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","sources":["webpack://uno-web/./src/commons/twoonone/utils.ts","webpack://uno-web/./src/views/RoomListViewAsync.vue?6bff","webpack://uno-web/./src/views/RoomListViewAsync.vue","webpack://uno-web/./src/views/RoomListViewAsync.vue?fc52","webpack://uno-web/./src/views/RoomListView.vue?17fd","webpack://uno-web/./src/views/RoomListView.vue"],"sourcesContent":["import { twoonone } from \"@/protos/proto\";\r\n\r\nconst RoomStage2Str = (stage: twoonone.RoomStage) => {\r\n    switch (stage) {\r\n        case twoonone.RoomStage.ROOM_STAGE_WAITTING_START:\r\n            return '等待开始'\r\n        case twoonone.RoomStage.ROOM_STAGE_SENDING_CARD:\r\n            return '游戏中'\r\n        case twoonone.RoomStage.ROOM_STAGE_ROB_LANDOWNERING:\r\n            return '游戏中'\r\n        default:\r\n            return '未知状态'\r\n    }\r\n}\r\n\r\nconst Role2Str = (action: twoonone.Role) => {\r\n    switch (action) {\r\n        case twoonone.Role.ROLE_FARMER:\r\n            return '农民'\r\n        case twoonone.Role.ROLE_LANDOWNER:\r\n            return '地主'\r\n        case twoonone.Role.ROLE_UNKNOWN:\r\n            return '无'\r\n    }\r\n}\r\n\r\nconst CommonErrorNotice = (e: twoonone.api.Error):string => {\r\n    switch (e) {\r\n        case twoonone.api.Error.ERROR_UNKNOWN:\r\n            return '未知错误'\r\n        case twoonone.api.Error.ERROR_UNDEFINED:\r\n            return '未知错误'\r\n        case twoonone.api.Error.ERROR_INVALID_ARGUMENT:\r\n            return '异常输入范围，未知错误'\r\n        case twoonone.api.Error.ERROR_NO_AUTH:\r\n            return '鉴权失败，可能是未登录账号'\r\n        case twoonone.api.Error.ERROR_USER_NO_EXIST:\r\n            return '用户不存在'\r\n        case twoonone.api.Error.ERROR_USER_INCOMPLETE:\r\n            return '用户信息不完整'\r\n        case twoonone.api.Error.ERROR_USER_EXISTED:\r\n            return '用户已存在'\r\n        case twoonone.api.Error.ERROR_ROOM_FULL:\r\n            return '房间已满'\r\n        case twoonone.api.Error.ERROR_ROOM_NO_EXIST:\r\n            return '房间不存在'\r\n        case twoonone.api.Error.ERROR_ROOM_EXIST_PLAYER:\r\n            return '你已在房间内'\r\n        case twoonone.api.Error.ERROR_ROOM_NO_EXIST_PLAYER:\r\n            return '你不在房间内'\r\n        case twoonone.api.Error.ERROR_ROOM_NO_ROB_LANDOWNERING:\r\n            return '房间还未到抢地主阶段'\r\n        case twoonone.api.Error.ERROR_ROOM_NO_SENDING_CARD:\r\n            return '房间还未到出牌阶段'\r\n        case twoonone.api.Error.ERROR_PLAYER_CARD_NO_EXIST:\r\n            return '你的手牌不足'\r\n        case twoonone.api.Error.ERROR_PLAYER_NO_OPERATOR:\r\n            return '还未轮到你操作'\r\n        case twoonone.api.Error.ERROR_PLAYER_NO_EXIST:\r\n            return '玩家不存在'\r\n        case twoonone.api.Error.ERROR_PLAYER_ALREADY_GET_DALIY_COIN:\r\n            return '你已领取过每日豆子'\r\n        case twoonone.api.Error.ERROR_ROOM_NO_FULL:\r\n            return '房间还未满'\r\n        case twoonone.api.Error.ERROR_ROOM_STARTED:\r\n            return '房间已开始游戏'\r\n        case twoonone.api.Error.ERROR_ROOM_NO_ROB_LANDOWNER:\r\n            return '没有人抢地主'\r\n        case twoonone.api.Error.ERROR_SEND_CARD_TYPE_UNKNOWN:\r\n            return '你的牌类型未知'\r\n        case twoonone.api.Error.ERROR_SEND_CARD_TYPE_NE_LAST_CARD_TYPE:\r\n            return '你的牌类型与上一轮的不符'\r\n        case twoonone.api.Error.ERROR_SEND_CARD_CONTINUOUS_NE_LAST_CARD_CONTINUOUS:\r\n            return '你的牌连续数与上一轮的不同'\r\n        case twoonone.api.Error.ERROR_SEND_CARD_SIZE_LE_LAST_CARD_SIZE:\r\n            return '你的牌比不过上一轮的大小'\r\n        case twoonone.api.Error.ERROR_PLAYER_EXISTED_A_ROOM:\r\n            return '你已在一个房间内'\r\n        case twoonone.api.Error.ERROR_PLAYER_COIN_LT_ROOM_COIN:\r\n            return '你的豆子低于房间底分'\r\n        case twoonone.api.Error.ERROR_PLAYER_IS_ONLY_OPERATOR:\r\n            return '你是唯一一个可以操作的玩家'\r\n    }\r\n}\r\n\r\nexport {\r\n    RoomStage2Str,\r\n    Role2Str,\r\n    CommonErrorNotice\r\n}","import { withAsyncContext as _withAsyncContext, defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, unref as _unref, resolveComponent as _resolveComponent, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = { key: 0 }\n\nimport { GetRooms } from '@/commons/twoonone/call';\r\nimport { twoonone } from '@/protos/proto';\r\nimport { ref } from 'vue';\r\nimport * as el from 'element-plus'\r\nimport { GoToRoomDetail } from '@/commons/Global';\r\nimport { RoomStage2Str } from '@/commons/twoonone/utils';\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'RoomListViewAsync',\n  async setup(__props) {\n\nlet __temp: any, __restore: any\n\r\nconst rooms = ref<twoonone.IRoomInfo[]>()\r\nrooms.value = (\n  ([__temp,__restore] = _withAsyncContext(async () => (async () => {\r\n    const resp = await GetRooms()\r\n    if (typeof resp === 'number') {\r\n        console.error(resp)\r\n        return\r\n    }\r\n    return resp.room_infos\r\n})())),\n  __temp = await __temp,\n  __restore(),\n  __temp\n)\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_ElButton = _resolveComponent(\"ElButton\")!\n\n  return (rooms.value !== undefined)\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createVNode(el.ElContainer, null, {\n          default: _withCtx(() => [\n            _createVNode(el.ElMain, null, {\n              default: _withCtx(() => [\n                _createVNode(el.ElTable, { data: rooms.value }, {\n                  default: _withCtx(() => [\n                    _createVNode(el.ElTableColumn, {\n                      prop: \"hash\",\n                      label: \"桌哈希\"\n                    }),\n                    _createVNode(el.ElTableColumn, { label: \"玩家数\" }, {\n                      default: _withCtx((props) => [\n                        _createVNode(el.ElText, null, {\n                          default: _withCtx(() => [\n                            _createTextVNode(_toDisplayString(props.row.player_infos?.length ?? 0), 1)\n                          ]),\n                          _: 2\n                        }, 1024)\n                      ]),\n                      _: 1\n                    }),\n                    _createVNode(el.ElTableColumn, { label: \"桌状态\" }, {\n                      default: _withCtx((props) => [\n                        _createVNode(el.ElText, null, {\n                          default: _withCtx(() => [\n                            _createTextVNode(_toDisplayString(_unref(RoomStage2Str)(props.row.stage)), 1)\n                          ]),\n                          _: 2\n                        }, 1024)\n                      ]),\n                      _: 1\n                    }),\n                    _createVNode(el.ElTableColumn, {\n                      fixed: \"right\",\n                      label: \"操作\"\n                    }, {\n                      default: _withCtx((props) => [\n                        _createVNode(_component_ElButton, {\n                          onClick: ($event: any) => (_unref(GoToRoomDetail)(props.row.hash))\n                        }, {\n                          default: _withCtx(() => _cache[0] || (_cache[0] = [\n                            _createTextVNode(\"桌详细\")\n                          ])),\n                          _: 2\n                        }, 1032, [\"onClick\"])\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }, 8, [\"data\"])\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]))\n    : _createCommentVNode(\"\", true)\n}\n}\n\n})","<script setup lang=\"ts\">\r\nimport { GetRooms } from '@/commons/twoonone/call';\r\nimport { twoonone } from '@/protos/proto';\r\nimport { ref } from 'vue';\r\nimport * as el from 'element-plus'\r\nimport { GoToRoomDetail } from '@/commons/Global';\r\nimport { RoomStage2Str } from '@/commons/twoonone/utils';\r\n\r\nconst rooms = ref<twoonone.IRoomInfo[]>()\r\nrooms.value = await (async () => {\r\n    const resp = await GetRooms()\r\n    if (typeof resp === 'number') {\r\n        console.error(resp)\r\n        return\r\n    }\r\n    return resp.room_infos\r\n})()\r\n</script>\r\n\r\n<template>\r\n    <div v-if=\"rooms !== undefined\">\r\n        <el.ElContainer>\r\n            <el.ElMain>\r\n                <el.ElTable :data=\"rooms\">\r\n                    <el.ElTableColumn prop=\"hash\" label=\"桌哈希\" />\r\n                    <el.ElTableColumn label=\"玩家数\">\r\n                        <template v-slot=\"props\">\r\n                            <el.ElText>{{ props.row.player_infos?.length ?? 0 }}</el.ElText>\r\n                        </template>\r\n                    </el.ElTableColumn>\r\n                    <el.ElTableColumn label=\"桌状态\">\r\n                        <template v-slot=\"props\">\r\n                            <el.ElText>{{ RoomStage2Str(props.row.stage) }}</el.ElText>\r\n                        </template>\r\n                    </el.ElTableColumn>\r\n                    <el.ElTableColumn fixed=\"right\" label=\"操作\">\r\n                        <template v-slot=\"props\">\r\n                            <ElButton @click=\"GoToRoomDetail(props.row.hash)\">桌详细</ElButton>\r\n                        </template>\r\n                    </el.ElTableColumn>\r\n                </el.ElTable>\r\n            </el.ElMain>\r\n        </el.ElContainer>\r\n    </div>\r\n</template>","import script from \"./RoomListViewAsync.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./RoomListViewAsync.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, createElementVNode as _createElementVNode, Suspense as _Suspense, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nimport RoomListViewAsync from './RoomListViewAsync.vue';\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'RoomListView',\n  setup(__props) {\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(_Suspense, null, {\n    default: _withCtx(() => [\n      _createVNode(RoomListViewAsync)\n    ]),\n    fallback: _withCtx(() => _cache[0] || (_cache[0] = [\n      _createElementVNode(\"p\", null, \"loading...\", -1)\n    ])),\n    _: 1\n  }))\n}\n}\n\n})","import script from \"./RoomListView.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./RoomListView.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["RoomStage2Str","stage","twoonone","RoomStage","ROOM_STAGE_WAITTING_START","ROOM_STAGE_SENDING_CARD","ROOM_STAGE_ROB_LANDOWNERING","Role2Str","action","Role","ROLE_FARMER","ROLE_LANDOWNER","ROLE_UNKNOWN","CommonErrorNotice","e","api","Error","ERROR_UNKNOWN","ERROR_UNDEFINED","ERROR_INVALID_ARGUMENT","ERROR_NO_AUTH","ERROR_USER_NO_EXIST","ERROR_USER_INCOMPLETE","ERROR_USER_EXISTED","ERROR_ROOM_FULL","ERROR_ROOM_NO_EXIST","ERROR_ROOM_EXIST_PLAYER","ERROR_ROOM_NO_EXIST_PLAYER","ERROR_ROOM_NO_ROB_LANDOWNERING","ERROR_ROOM_NO_SENDING_CARD","ERROR_PLAYER_CARD_NO_EXIST","ERROR_PLAYER_NO_OPERATOR","ERROR_PLAYER_NO_EXIST","ERROR_PLAYER_ALREADY_GET_DALIY_COIN","ERROR_ROOM_NO_FULL","ERROR_ROOM_STARTED","ERROR_ROOM_NO_ROB_LANDOWNER","ERROR_SEND_CARD_TYPE_UNKNOWN","ERROR_SEND_CARD_TYPE_NE_LAST_CARD_TYPE","ERROR_SEND_CARD_CONTINUOUS_NE_LAST_CARD_CONTINUOUS","ERROR_SEND_CARD_SIZE_LE_LAST_CARD_SIZE","ERROR_PLAYER_EXISTED_A_ROOM","ERROR_PLAYER_COIN_LT_ROOM_COIN","ERROR_PLAYER_IS_ONLY_OPERATOR","_hoisted_1","key","_defineComponent","__name","setup","__props","__temp","__restore","rooms","ref","value","_withAsyncContext","resp","GetRooms","room_infos","console","error","_ctx","_cache","_component_ElButton","_resolveComponent","undefined","_openBlock","_createElementBlock","_createVNode","el","default","_withCtx","data","prop","label","props","_createTextVNode","_toDisplayString","row","player_infos","length","_","_unref","fixed","onClick","$event","GoToRoomDetail","hash","_createCommentVNode","__exports__","_createBlock","_Suspense","RoomListViewAsync","fallback","_createElementVNode"],"sourceRoot":""}